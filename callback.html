<!DOCTYPE html>
<html>
<body>
    <script>
        // Get the access token from the URL fragment
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const token = params.get('access_token');

        if (token) {
            // Use chrome.storage.local to save the token
            chrome.storage.local.set({ 'spotify_token': token }, () => {
                // Close the tab after the token is saved
                window.close();
            });
        }
    </script>
    <h3>You can close this tab.</h3>
</body>
</html>